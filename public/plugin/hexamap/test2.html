
<script type="text/javascript" src="./stuquery.min.js"></script>
<script type="text/javascript" src="./stuquery.hexmap.js"></script>
<link rel="stylesheet" href="./stuquery.hexmap.css">

<style>.ex-8 {
	background-color: #66bbe2;
	padding: 6% 10%;
	margin: auto;
	/*clip-path: polygon(0% 50%, 25% 100%, 75% 100%, 100% 50%, 75% 0%, 25% 0%);*/
}
.token {
	font-family: serif;
	border-radius: 100%;
	background-color: wheat;
	width: 4em;
	height: 4em;
	color: black;
	display: table-cell;
	vertical-align: middle;
}
.token.token-red { color: crimson; }
.token .id, .token .odds { font-size: 0.5em; }
.token .dice { font-size: 2em; }
.hills { background-color: #c8906e; }
.pasture { background-color: #b5c881; }
.mountains { background-color: #778088; }
.fields { background-color: #e9b66c; }
.forest { background-color: #55855f; }
.desert { background-color: #f5dcad; }

.border{      
    position:absolute;
    background-color:red;
    width:100%;
    height:100%;
}
    
    









#message-8 {
	position: relative;
	display: inline-block;
	left: 50%;
	transform: translate3D(-50%,0,0);
	background: black;
	color: white;
	padding: 0.25em 0.5em;
	float: left;
	z-index: 10;
}
.ex8 .hex {
	cursor: pointer;
}
.ex8 .hex:hover .hexinner, 
.ex8 .hex:focus .hexinner {
	background: black!important;
	color: white;
}










</style>


<div id="message-8">Click or hover on a hex</div>


<div id="hexmap-8" class="ex-8">
<code>
{
	"layout":"odd-r",
	"hexes": {
		"0":{"q":0,     "r":0,    "name":"0-0",    "type":"mountains",      "state":1       },
		"1":{"q":1,     "r":0,    "name":"1-0",    "type":"desert",         "state":1       },
		"2":{"q":2,     "r":0,    "name":"2-0",    "type":"fields",         "state":1       },
		"3":{"q":0,     "r":1,    "name":"0-1",    "type":"forest",         "state":1       },
		"4":{"q":1,     "r":1,    "name":"1-1",    "type":"mountains",      "state":2       },
		"5":{"q":2,     "r":1,    "name":"2-1",    "type":"mountains",      "state":1       },
		"6":{"q":0,     "r":2,    "name":"0-2",    "type":"mountains",      "state":1       },
		"7":{"q":1,     "r":2,    "name":"1-2",    "type":"mountains",      "state":1       },
		"8":{"q":2,     "r":2,    "name":"2-2",    "type":"mountains",      "state":1       }
		
	}
}



</code>
<!--
	/*
	"hexes": {
		"0":{"x":0,     "y":0,    "name":5,    "type":"mountains"         },
		"1":{"x":1,     "y":0,    "name":2,    "type":"fields"            },
		"2":{"x":2,     "y":0,    "name":6,    "type":"forest"            },
		"3":{"x":2,     "y":1,    "name":3,    "type":"mountains"         },
		"4":{"x":3,     "y":2,    "name":8,    "type":"fields"            },
		"5":{"x":2,     "y":3,    "name":10,   "type":"pasture"           },
		"6":{"x":2,     "y":4,    "name":9,    "type":"fields"            },
		"7":{"x":1,     "y":4,    "name":12,   "type":"pasture"           },
		"8":{"x":0,     "y":4,    "name":11,   "type":"forest"            },
		"9":{"x":-1,    "y":3,    "name":4,    "type":"hills"             },
		"10":{"x":-1,   "y":2,    "name":7,    "type":"desert"            },

		
	}
	*/
	-->


</div>
<div style="text-align:center;margin-top:1em;">
	<button id="button-8-terrain">Randomise terrain</button>
</div>





<script>

//contour region
    //
    
S(document).ready(function(){
	var hexmap = S.hexmap('hexmap-8');
	hexmap.positionHexes().resize();

	// Define the content of each hex
	hexmap.setContent(function(id,hex){


		// Build the circular token that sits on a hex
		str = '<div class="token'+((hex.dice==8 || hex.dice == 6) ? ' token-red':'')+'">';
            str += '<div class="id">'+' '+hex.q+','+hex.r+'</div>'; //coor
            str += '<div class="dice">'+hex.name+'</div>'; //nom
            str += '<div class="odds">'+id+ '</div>'; 
		str += '</div>';

		return str;
	});
	
	// Set the CSS class of each hex to be the hex type
	hexmap.setClass(function(id,hex){
		return hex.type;
	});
    
    hexmap.setBorder(function(id,hex){
		return hex.type;
	});

    
    
    hexmap.on('click',function(e){
		S('#message-8').html('You have clicked hex '+e.i+' ('+e.hex.id+')');
        console.log(e.hex.id);
	}).on('mouseover',function(e){
		S('#message-8').html('You have hovered over hex '+e.i+' ('+e.hex.id+')');
	}).on('mouseout',function(e){
		S('#message-8').html('You have left hex '+e.i+' ('+e.hex.id+')');
	}).on('focus',function(e){
		S('#message-8').html('You have focussed on hex '+e.i+' ('+e.hex.id+')');
	});
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    

	// Create button which randomises the terrain
	S('#button-8-terrain').on('click',function(){

		// Define the terrain types
		var terrains = ['hills','pasture','mountains','fields','forest'];

		// Create an array of terrains to populate
		var t = new Array(hexmap.hexes.length);

		// Randomly assign terrains
		for(var i = 0; i < hexmap.hexes.length; i++){
			t[i] = terrains[Math.floor(Math.random()*terrains.length)];
		}
		
		// Update all the classes
		for(var i = 0; i < hexmap.hexes.length; i++){
			if(hexmap.hexes[i].n != "Robber") hexmap.hexes[i].setClass(t[i]);
		}
	});
});
    
    
    
    
    
    
    
    
    
    
    
    



</script>